IWeb={};IWeb.Const={};IWeb.Sandbox=function(B){var A=function(C,F,E){this.coreObj=C;this.moduleId=F;if(E==null){this.container=B(document.body)}else{this.container=E}var D=this.container.attr("id");if(D==null||D==undefined||D=="undefined"){D=this.container.get(0).tagName}this.instanceId=this.moduleId+"_"+D};A.fn=A.prototype;A.fn.listen=function(E,C,D){this.coreObj.listen(this.instanceId,E,C,D);return this};A.fn.notify=function(C){C.instanceId=this.instanceId;this.coreObj.broadcast(C);return this};A.fn.showLoading=function(){this.notify({type:IWeb.Const.SHOW_LOADING,data:""});return this};A.fn.hideLoading=function(){this.notify({type:IWeb.Const.HIDE_LOADING,data:""});return this};A.fn.showDialog=function(C){this.notify({type:IWeb.Const.SHOW_DIALOG,data:C})};A.fn.showConfirm=function(C){this.notify({type:IWeb.Const.SHOW_CONFIRM,data:C})};A.fn.stopEvent=function(){try{if(window.event){window.event.returnValue=false}else{event.preventDefault()}}catch(C){}};A.fn.find=function(C){if(IWeb.isNotNull(C)){if(C.indexOf(".")>-1){}else{if(C.indexOf("#")>-1){}else{C="*[iname='"+C+"']"}}return this.container.find(C)}else{return this.container}};return A}(jQuery);IWeb.Core=function(F,C){jQuery.ajaxSetup({cache:IWeb.Const.AJAX_CACHE});var A={};var D={};function E(I){var G=I.type;var M=I.data;var K=I.instanceId;var L=D[K][G];if(L){for(var H=0,J=L.length;H<J;H++){L[H]["method"](M,G)}}}function B(){var I=location.hash;if(I){var H=I.split("|");if(H.length>1){datamap.diskinfo=H[1]}else{datamap.diskinfo=""}var G=I.split("/");switch(G[0]){default:break}}else{E({type:IWeb.Const.LOC_HASH_INFO,data:"#disk"})}}return{currentModule:function(G){if(IWeb.isNotNull(G)){this._currentName=G}if(!IWeb.isNotNull(this._currentName)){this._currentName=IWeb.randomNum(100000000,999999999)+""}return this._currentName},startApp:function(){F(window).resize(function(){E({type:IWeb.Const.WINDOW_RESIZE,data:location.hash})});B()},register:function(H,G){A[H]={creator:G,instance:null}},start:function(G,I){if(typeof(A[G])=="undefined"||A[G]==null){A[G]={}}if(typeof(A[G].instance)=="undefined"||A[G].instance==null){A[G].instance={}}var H=new IWeb.Sandbox(this,G,I);A[G].instance[H.instanceId]=A[G].creator(H);A[G].instance[H.instanceId].init()},stop:function(H){var G=A[H];if(G.instance){G.instance.destroy();G.instance=null}},startAll:function(){for(var G in A){if(A.hasOwnProperty(G)){this.start(G)}}},stopAll:function(){for(var G in A){if(A.hasOwnProperty(G)){this.stop(G)}}},listen:function(H,L,G,J){if(!F.isArray(L)){if(typeof(L)=="object"){var K=[];for(var I in L){if(typeof(L[I])=="function"){}else{K.push(L[I])}}L=K}else{L=[L]}}if(D[H]==null){D[H]={}}F.each(L,function(M,N){if(D[H][N]){D[H][N].push({method:G,scope:J})}else{D[H][N]=[{method:G,scope:J}]}})},broadcast:function(G){E(G)}}}(jQuery);